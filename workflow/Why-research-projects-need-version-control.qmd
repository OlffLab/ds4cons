---
title: "Using Version Control in Research Projects"
author: "Han Olff"
date: "2024-08-28"
format: html
---

# Using Version Control in Research Projects

Han Olff - University of Groningen

**Contents**

[1 Collaborative manuscript development](#1-Collaborative-manuscript-development)\
[2 Installing Git and Github](#2-Installing-Git-and-Github)

Research is rarely done alone these days. Researchers most often work in a team, with different roles of team members in all phasis of a research project: in the preparation of a study, during data collection, data management, data analysis and writing up the results as a publication (report, paper, book) . In a university setting this collaboration often involves the interaction between master students, PhD students, postdocs, research assistants and professors.

| Research phase   | Collaboration                            | Recommended software                                                              |
|------------------|------------------------------------------|-----------------------------------------------------------------------------------|
| Write a proposal | Track changes editing of a text document | [Google Docs](https://docs.google.com/document/u/0/?ec=asw-docs-hero-goto&tgif=d) |
| Collect data     |                                          |                                                                                   |
|                  |                                          |                                                                                   |
|                  |                                          |                                                                                   |
|                  |                                          |                                                                                   |
|                  |                                          |                                                                                   |
|                  |                                          |                                                                                   |

|--------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Research phase**                                           | General recommended collaboration workflow                                                                                                            | Recommended software environment/tools                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|--------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Research proposal development (introduction)**             | Centralized version control system (CVCS)                                                                                                             | Google Docs for text on a shared drive                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -   Framing, background                                      | -   User-specific read, comment, or edit access                                                                                                       | [Zotero](https://www.zotero.org) for reference (literature) management                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -   Central questions, hypothesis                            | -   Track changes                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -   Research Data Management Plan (RDMP)                     | -   Annotate changes with comments                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -   Funding acquisition                                      | -   Restore to earlier version                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                                              |     Collaborative reference library                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|--------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Data collection**                                          | Shared physical notebooks in the field                                                                                                                | [QField](https://qfield.org/#:~:text=QField%20is%20the%20professional%20mobile,existing%20projects%20to%20the%20field.) (navigation, spatial data collection)                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -   Field work                                               | Shared protocols                                                                                                                                      | Survey123 (spatial data collection)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -   Lab work                                                 | Digital lab journals                                                                                                                                  | eLab (digital lab journal)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -   Compile published data                                   | Data collection apps                                                                                                                                  | Shared javascripts on Google Earth Engine                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -   Generate datasets from large data archives               | Shared scripts on Earth Engine (CVCS)                                                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|--------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Data Management**                                          | Distributed Version Control System (DVCS) for data                                                                                                    | Tabular data in [Google Sheets](https://support.google.com/docs/answer/6000292?hl=en&co=GENIE.Platform%3DDesktop) on Google [Shared Drives](https://support.google.com/a/users/answer/9310351?hl=en#:~:text=Unlike%20files%20in%20My%20Drive,involved%20in%20the%20same%20project.)(files are owned by the organization) \\ Relational Databases in [Star Schedule](https://docs.google.com/document/d/1UbUMVFfF4muRqt_YOT73NT7xt-vsoLHs0xNza_Le56U/edit?usp=sharing) with Dim and Fact tables, such as [this one](https://docs.google.com/spreadsheets/d/1lb09gZkLHkcyp5M_6OydAFFBdg1m4UqBDCCBDTjKfMg/edit#gid=451810162) |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -   Database structure protocols                             | -   User-specific read, comment, or edit access                                                                                                       | Datafiles are read from database into scripts through downloadable csv links such as [this one](https://docs.google.com/spreadsheets/d/e/2PACX-1vSlabq1qaLytnultOPCg94ViwAqS8hlqnnpL5fE4-QlmBwa7DZ6JvqA9ZvdQ65geNyTbWEO1pOGx91_/pub?gid=2120708971&single=true&output=csv)                                                                                                                                                                                                                                                                                                                                                 |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -   Data entry                                               | -   Track changes                                                                                                                                     | Sync when needed to local folders with [Google Drive for Desktop](https://www.google.com/drive/download/),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -   Database validation, integrity                           | -   Comments/notes                                                                                                                                    | [ArcGis Server web services](https://enterprise.arcgis.com/en/portal/latest/use/arcgis-server-services.htm#:~:text=An%20ArcGIS%20Server%20web%20service,them%20in%20apps%20throughout%20ArcGIS.) for vector and raster geodata                                                                                                                                                                                                                                                                                                                                                                                             |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -   Database relations                                       | -   Restore to earlier version                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -   Metadata documentation                                   | -   Sync local changes to central main version                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                                              | -   Clear agreements on database structure and metadata structure                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|--------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Data analysis**                                            | [Distributed Version Control System](https://about.gitlab.com/topics/version-control/benefits-distributed-version-control-system/) (DVCS) for scripts | R & Python as scripting language, libraries                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -   Data exploration, quality control                        | -   Analysis through scripts                                                                                                                          | RStudio: interface to R, Python and Git                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -   Data wrangling, grouping, selecting, filtering (queries) | -   Keep scripts, their output and non-Sheets data (as gpkg, geotiff files) together in a projects                                                    | -   Work with [R projects](https://support.posit.co/hc/en-us/articles/200526207-Using-RStudio-Projects) (keep all stuff of the project together)                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -                                                            | -   Contributor-specific read, comment, or edit access                                                                                                | -   Work with [renv](https://rstudio.github.io/renv/articles/renv.html) library for syncing library versions across contributors, creating a reproducible environment for the project                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                                              | -   Prevent conflicting /unsynced edits between users                                                                                                 | -   Use R as the interface to Git (stage, commit) and Github (pull, push)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                                              | -   Track changes and script versions                                                                                                                 |     Git: version control system                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                                              | -   Synchronize & freeze library versions used for the development of the script between contributors and for the project                             |     Github: central repository                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                                              | -   Each contributor annotates/explains each change to the script (commit)                                                                            |     So [R RStudio Git Gitub integration](https://happygitwithr.com/)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                                              | -   Possible to restore to earlier versions                                                                                                           |     [QGIS](https://www.qgis.org/en/site/) for spatial visualization, analysis \\ [Earth Engine](https://earthengine.google.com/faq/) / [javascript](https://developers.google.com/earth-engine/tutorials/tutorial_js_01) repositories                                                                                                                                                                                                                                                                                                                                                                                      |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                                              | -   Sync changes in local repository to central repository on a server                                                                                |     RMarkdown for script innovation and output documentation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|--------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Manuscript writing**                                       | Centralized version control system (CVCS)                                                                                                             | Google Docs for text on a shared drive                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -   Abstract                                                 | -   User-specific read, comment, or edit access                                                                                                       | Zotero for references (using groups collaboration)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -   Methods                                                  | -   Track changes                                                                                                                                     | R, especially GGplot2 library for figures                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -   Results                                                  | -   Annotate changes with comments                                                                                                                    | R and QGIS for maps                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -   Discussion                                               | -   Restore to earlier version                                                                                                                        | RMarkdown (potentially eg for supplements)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -   References                                               |     Collaborative reference library                                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -   Supplementary information                                |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|--------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Project management, communication and control**            | -   Internal project organization communication                                                                                                       | Project meetings                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                                              | -   External project communication                                                                                                                    | via Google Meet, Teams Slack, Whatsapp, Email                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                                              | -   Communication with donors                                                                                                                         | Blog, social media, media outreach                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|                                                              |                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                                              | -   Financial control & reporting                                                                                                                     | AFAS                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|--------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|

## 1 Collaborative manuscript development

For collaborative writing of text documents/manuscripts, we often use online documents in the cloud. This helps to keep track of changes, by using "track changes" (Word) or "suggesting" (Google Docs). With important changes, it is good practice to insert a comment why the change was made, or to make a comment that a change should be made later.

When using Google Docs, we use a **Centralized Version Control System** (CVCS). The document exists only as a single online version that can be edited simultaneously by different users. This is a good solution, as it can never result in conflicting versions of the same document. Docs also has the option to restore view previous edits and whole previous versions, and when needed previous versions can be restored, for example in case of accidental deletion of document parts. However, in practice such restore of previous versions is rare, most editing involves dealing with track changes and comments.\
But also other platforms have this, for example Microsoft has Sharepoint where you can work with Word .docx documents, powerpoints etc in a similar CVCS style

**Collaborative data management with shared drives & shared folder**

![Collaborative Data Management](Images/collaborative%20data%20management.png)

**Collaborative development of scripts with a Distributed Version Control System (DVCS)**

We need a similar approach to the development of scripts as for the development of text documents. The most widely used standard for that is the Free and Open Source Software (FOSS) community is the combination of Git and GitHub.

Git is the 'track changes' and version management tool that you use on your local computer, while GitHub is an online platform that allows multiple users to collaborate on the joint development of a set of scripts in a project, called a repository, where each user is managing this by Git. See here an [introduction](https://happygitwithr.com/) to working with R and Git and Github.

For developing R scripts, the latest versions of RStudio have now fully integrated Git and Github, accessible from within the RStudio application with hardly any command line scripting as was needed previously.

This requires a change in workflow in R, that gives a much better control over the changes that you make to an R script, and to see what collaborators/supervisors have changed in the script you are working on. Also, there is good version management, where you can always go back to a previous version if a particular solution that you try does not work. Also, you can create a temporary copy of the script called a branch, explore a new type or additional analysis, and if it works merge the changes back into the main branch that then also becomes the version that your collaborators use/see.\
Some relevant terminology / steps used for this:

**Github repository**: a project consisting of a set of scripts (and potentially data, figures) that is managed through Git by a group of collaborators, for example [this one](https://github.com/hanolff/2023_HanOlff_RepositoryExample). A repository can be made for everyone to see (very handy when submitting a paper to journal) and made open for edits by specific collaborators by the manager of the project. The collaborators must have a Github account, after which you can [add them to your repository](https://docs.github.com/en/account-and-profile/setting-up-and-managing-your-personal-account-on-github/managing-access-to-your-personal-repositories/inviting-collaborators-to-a-personal-repository).

**Local project folder:** make a local folder on your computer where you store the projects that you work on. These can be projects that you have created yourself, or project that you have been invited to collaborate on. It is important that this folder exists outside shared google drive folders, als they will be synchronized already to a central repository (on GitHub) and it conflicts to also sync it to a shared google drive. For example, make d:\_projects or c:\_projects. The underscore ensures that it appears at the top of your list of folders, which helps as you will use it a lot. Typically every paper /chapter in your PhD thesis will be one project, as each may have different collaborators. Your project folder can also have subfolders before you get to the repositories, for example d:\_projects\PhD\_Yuhong_Li. This way will I will also organize different repositories of different PhD students.

**Cloning**: cloning a Github repository means making a local copy of the repository in your local project folder

**Pull request**: a pull request copies the current version of the repository (eg after other users have made commits) to your local repository

**Commit**: When working on an R script in a local repository, one first saves the script in RStudio in the regular way, and then 'commits' the change to its local Git

version. A commit is also associated with making a comment about what it is that you changed in the script

**Push**: copy your local changes to the Github repository so that other users work with them (getting them through a pull request)

**Working with projects and renv in R**

To work with Git and Github in Rstudio, you need to work with projects, see [this introduction](https://r4ds.hadley.nz/workflow-scripts.html). This is a good idea anyway, as it keeps all stuff together for your project. Your local project repository as described above works as the project folder. When opening RStudio, open the project that you want to work with, or make a new one. This also allows working with renv, which controls the versions of the libraries that you use in a project. This allows the synchronization that when different users collaborate on a script, they always use the same versions of all libraries used in the script. This is critical to predictable behaviour of a script in the future, eg after publications, or when you return to a project for example to revise your manuscript. It also help a lot when working together, eg with students that may not have the same library versions installed as you.

## 2 Installing Git and Github

(Windows instructions) 1. Make a free Github account on <https://github.com/>, and give it a logical username, such as your full name (without spaces), this helps your later collaborators, see [here](https://happygitwithr.com/github-acct)on tips on user names. You can add multiple email addresses, but make sure to at least include your @rug.nl or @student.rug.nl email address (so you can be found and added relevant repositories. 2. Make sure to upgrade to the latest [R and R studio version](https://posit.co/download/rstudio-desktop/) 3. Install [Git for Windows](https://gitforwindows.org/), accepting all the default installation options

```         
Or install Git for Mac, [see here on how to do this](https://happygitwithr.com/install-git#macos) and you use login by using a token   \
```

Accept all the default choices during the installation.

4.  When using Windows, download and install [RTools for windows](https://cran.r-project.org/bin/windows/Rtools/) - making sure the version matches your R version (currently RTools 43) , using the RTools installer as listed on the page with each version\

5.  Register your name and email address with Git (you can always change this) by doing:

    For this open a shell/terminal window (right click on the windows icon in your task bar, choose terminal or power shell) and then type or copypaste the following commands, with enter after each command

    Put in your name and email instead of Jane Doe

    git config --global user.name "Jane Doe"

    git config --global user.email "[jane\@example.com](mailto:jane@example.com){.email}"

    git config --global --list

6.  Create in file explorer the local folder to where you will put your projects for collaboration on scripts

    Put in a simple location that you can quickly find back|, such as d:\_github

7.  Open RStudio, and close all open scripts or projects through /File / Close all (when only scripts open) and /File Close Project (when having a script open)

8.  Create a new local project from an collaborative project shared with with you: (so you start collaborating on the project)

    Select in RStudio from the menu File / New project / Version Control / Git\
    And paste as a repository the name that you will get from Han on the specific repository that you will work on looking like this:

    <https://github.com/OlffLab/demo-repository>

    Keep the project directory name as it is filled in by default to demo-repository

    In 'Create the project as a subdirectoy of" browse or fill in your local project folder, in my case D:/\_github

    Select 'Create Project'

    You project is now being cloned into the new directory\
    In your 'files' pane bottom right in RStudio you can see the contents of the local project folder.

9.  Open the email you received from me for collaborating on this repository, open the link, login with your Github account and password, and accept the invitation. You now have collaborating rights on this project ('push rights') meaning you can change the scripts.

10. In Rstudio, in the files pane, open the script you want to edit

11. You are now asked to install libraries, while you may think you did already install them\
    But you now work with renv, which means that the versions of libraries in the script are kept in sync across all users working on the project.\
    This first installation takes a little while, but is only when you create the project like this locally for the first time.

12. In the script run

    renv::restore()\
    This (also in the future) restores all versions of the libraries to the version as registered in the .lock file of the project.\
    You can keep this line in your script, if all is in sync, you get the message

    '- The library is already synchronized with the lockfile.' after running the restore command

13. Now run the script to see what it does, in the bottom right pane you want to change to the tab "plots"

14. Now change something in the script, for example by adding a comment line to the bottom\
    \# this is a good script

    And save your script.

15. In the top right pane, select the tab 'Git' , which shows with the blue M that your script file is modified.\
    Select 'Commit' in this pane\
    Check the checkbox in front of the file to which you are going to commit a change\
    In the Commit Message top right, type a short summary of why you made this change to the script.\
    Meanwhile, in green (new) and red (old) you see what you change in this script with this commit.

    In this case that would be "Annotation added".\
    This commit message is obligatory, you cannot leave it empty.\
    Now select "Commit" and your change is made in your local Git tracking changes.\
    Finally select the green "Push" button, and your change is pushed to the main version of the script in the GitHub repository

    ** Using Mac:** With Mac, you are no longer allowed to use your password as an authentication for a push. Instead, you need to create a[personal access token](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens#creating-a-personal-access-token-classic). When you push for the first time, you may be asked for a password. This personal access token should then be used as your password to push (not your account password).

    If you now view the script on Github, you will see the change there.

16. In a next editing session, you want to check first if there are any changes made in the script by your collaborators.\
    For this, open the project from your local project folder (or it may be opened automatically already)\
    Go the the Git pane topright, and select "Pull" to check if your local project is in sync with the repository. If not, files will be updated accordingly. **Always do this first before you continue editing anything in the project.**

    Keep the renv::restore() command in your script to see if you work with the right versions of the libraries that you and your collaborators use in this project.

    If you need to change to different versions of the libraries you will be asked to restart your R session (in menu /Session / restart R session)

17. To see the last change but also the history of changes to the file, select "History" in the Git Pane in RStudio. There you can see all changes to all scripts in the project, or also filter for a particular script or file (as a figure).\
    This is not only important during collaboration, but also for yourself!

**Further details on library version management with renv**

When you work on different computers and/or with different users on the same script, it is important that all computers have the same version of the libraries installed that are used for the script.\
This "freezes" the behavior of the script - it will always work exactly the same.

<https://rstudio.github.io/renv/articles/collaborating.html>

|                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|---------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| renv::init()              | Initialises renv for the first time for a project, creating the lock file. Do not use this anymore after the project has been created                                                                                                                                                                                                                                                                                                                                                                                                                                |
| renv::snapshot()          | stores in the lock file which versions of which packages were installed and active during the development of a script, if you update a library while working with the project, re-run a snapshot. When other users then run restore, they are asked to update their versions of libraries. Do this snapshot only when really needed, when a function is broke in a library or you really need the functionality of the new version of the library. Otherwise stick with the version you first started with. Typically as a user you do not need to use this command. |
| renv::restore(clean=TRUE) | checks if the current installed version of libraries matches that of the script. If not, it installs the version of the library als also used by your other collaborators in the project                                                                                                                                                                                                                                                                                                                                                                             |
| renv::status()            | Checks the integrity of the renv setup of your project, flagging problems with libraries that are not synced or up to date                                                                                                                                                                                                                                                                                                                                                                                                                                           |

**Github organisation, account type and making and naming repositories**

-   Git is free and open source, but storage on GitHub is restricted for free accounts

-   As group we keep our repositories in this Github organization:

-   <https://github.com/orgs/OlffLab/repositories>

-   This is a paid organization (4 eur/person/month) and allows detailed setting of access rights and security and more storage than with a free account

-   Everyone also has their personal GitHub account in addition to being a member of this organization

-   The naming of project / repositories that we use in this organization will be:

-   Year_FirstnameLastName_ProjectName\
    For example:

    2023_FredyLedidi_LoliondoFireExperiment

-   I will make the initial repositories for each project, then share them with you. Then we keep everything from our group in one place, similar to the data.\
